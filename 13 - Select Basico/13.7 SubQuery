ğŸ¯ TÃ³pico 6: Subqueries â€“ Consultas dentro de consultas
âœ… Objetivo:
Mostrar como usar uma consulta dentro da outra para obter dados especÃ­ficos, usando exemplos simples e do cotidiano.

ğŸ§© 1. O que Ã© uma subquery?
ğŸ“Œ DefiniÃ§Ã£o rÃ¡pida:

Ã‰ uma consulta SQL dentro de outra consulta. Serve para buscar um valor ou um conjunto de valores para usar na consulta externa.

ğŸ’¡ Exemplo no dia a dia:

"Quero listar os clientes que fizeram a compra mais cara."

ğŸ” 2. Exemplo simples: Buscar o pedido com maior valor
Passo 1: Consulta para achar o maior valor de pedido
sql
Copy
Edit
SELECT MAX(valor_compra) FROM pedidos;
Passo 2: Usar esse resultado dentro da consulta principal
sql
Copy
Edit
SELECT nome_cliente, valor_compra
FROM pedidos
WHERE valor_compra = (SELECT MAX(valor_compra) FROM pedidos);
ğŸ—£ï¸ ExplicaÃ§Ã£o curta:

A subquery dentro do WHERE retorna o maior valor, e a consulta principal busca o cliente que fez esse pedido.

ğŸ”— 3. Outro exemplo: clientes que fizeram pedidos acima da mÃ©dia
sql
Copy
Edit
SELECT nome_cliente
FROM pedidos
WHERE valor_compra > (SELECT AVG(valor_compra) FROM pedidos);
Lista clientes que gastaram mais do que a mÃ©dia das compras.

ğŸ§  4. Tipos comuns de subqueries
No WHERE (mais usado): para filtrar resultados.

No SELECT: para trazer dados derivados.

No FROM: para criar uma tabela temporÃ¡ria (mais avanÃ§ado, nÃ£o obrigatÃ³rio aqui).

ğŸ“ 5. Dica para o slide/roteiro:
â€œSubqueries ajudam a dividir o problema em partes menores, buscando um dado dentro do outro. Assim, vocÃª consegue respostas precisas sem complicar sua consulta.â€