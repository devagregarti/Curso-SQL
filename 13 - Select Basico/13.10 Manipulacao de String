üìå 1. Concatenar Strings
sql
Copiar
Editar
SELECT nome || ' ' || sobrenome AS nome_completo FROM clientes;
-- OU usando CONCAT:
SELECT CONCAT(nome, ' ', sobrenome) AS nome_completo FROM clientes;

üìå 2. Comprimento da String
sql
Copiar
Editar
SELECT nome, LENGTH(nome) AS tamanho FROM clientes;

üìå 3. Mai√∫sculas / Min√∫sculas
sql
Copiar
Editar
SELECT UPPER(nome) AS nome_maiusculo, LOWER(nome) AS nome_minusculo FROM clientes;

üìå 4. Remover espa√ßos extras
sql
Copiar
Editar
SELECT TRIM('   teste   ') AS texto_limpo; -- "teste"
SELECT LTRIM('   teste') AS texto_sem_esquerda;
SELECT RTRIM('teste   ') AS texto_sem_direita;

üìå 5. Substituir texto (REPLACE)
sql
Copiar
Editar
SELECT REPLACE('ol√° mundo', 'mundo', 'PostgreSQL') AS frase;
-- Resultado: "ol√° PostgreSQL"

üìå 6. Obter partes da string (SUBSTRING)
sql
Copiar
Editar
SELECT SUBSTRING('abcdef' FROM 2 FOR 3); -- Resultado: "bcd"
SELECT SUBSTRING(nome FROM 1 FOR 5) FROM clientes;

üìå 7. Localizar posi√ß√£o de substring
sql
Copiar
Editar
SELECT POSITION('mundo' IN 'ol√° mundo'); -- Resultado: 5

üìå 8. Remover ou substituir com REGEXP_REPLACE
sql
Copiar
Editar
-- Remover todos os n√∫meros de uma string
SELECT REGEXP_REPLACE('abc123def456', '\d', '', 'g'); -- "abcdef"

üìå 9. Compara√ß√£o de Strings
sql
Copiar
Editar
SELECT * FROM clientes WHERE nome = 'Jo√£o';
SELECT * FROM clientes WHERE nome ILIKE 'jo√£o'; -- case insensitive
SELECT * FROM clientes WHERE nome ILIKE '%jo%'; -- cont√©m "jo"

üìå 10. DIVIDIR Strings (STRING_TO_ARRAY)
sql
Copiar
Editar
SELECT STRING_TO_ARRAY('banana,ma√ß√£,laranja', ',');
-- Resultado: {"banana","ma√ß√£","laranja"}

üìå 11. Juntar array de strings em uma s√≥ (ARRAY_TO_STRING)
sql
Copiar
Editar
SELECT ARRAY_TO_STRING(ARRAY['banana','ma√ß√£','laranja'], ', ') AS frutas;
-- Resultado: "banana, ma√ß√£, laranja"

üìå 12. Formata√ß√£o com LPAD / RPAD
sql
Copiar
Editar
-- Adiciona zeros √† esquerda para completar 8 d√≠gitos
SELECT LPAD('123', 8, '0'); -- Resultado: "00000123"

-- Adiciona espa√ßos √† direita
SELECT RPAD('OK', 5, '.'); -- Resultado: "OK..."

üìå 13. Remover acentos (requere extens√£o unaccent)
sql
Copiar
Editar
-- 1. Ativar extens√£o (uma vez):
CREATE EXTENSION IF NOT EXISTS unaccent;

-- 2. Usar:
SELECT unaccent('a√ß√£o √© √∫til'); -- Resultado: "acao e util"

üìå 14. Casos com CASE em Strings
sql
Copiar
Editar
SELECT nome,
       CASE
           WHEN nome ILIKE 'jo%' THEN 'Come√ßa com Jo'
           ELSE 'Outro nome'
       END AS categoria
FROM clientes;

üìå 15. Exemplo pr√°tico realista
Imagine que o aluno precise formatar nomes para um relat√≥rio:

sql
Copiar
Editar
SELECT 
    INITCAP(TRIM(nome)) AS nome_formatado,
    LENGTH(nome) AS caracteres,
    CASE
        WHEN POSITION('a' IN LOWER(nome)) > 0 THEN 'Cont√©m A'
        ELSE 'Sem A'
    END AS observacao
FROM clientes;