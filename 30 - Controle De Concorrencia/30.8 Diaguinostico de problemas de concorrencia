ğŸ” 8. DiagnÃ³stico de problemas de concorrÃªncia
Query lenta? Veja se estÃ¡ esperando por lock.

Use pg_stat_activity para identificar sessÃµes bloqueadas:

sql
Copy
Edit
SELECT pid, wait_event_type, wait_event, query
FROM pg_stat_activity
WHERE state != 'idle';

ğŸ§  9. EstratÃ©gias para lidar com concorrÃªncia
Otimismo: assume que conflitos sÃ£o raros (ex: UPDATE ... WHERE versÃ£o = x)

Pessimismo: bloqueia o recurso atÃ© a transaÃ§Ã£o acabar (ex: FOR UPDATE)