üîÑ Controle de Concorr√™ncia em Transa√ß√µes
O que √© controle de concorr√™ncia?
√â o conjunto de t√©cnicas que o banco de dados usa para gerenciar m√∫ltiplas transa√ß√µes executando ao mesmo tempo (concorr√™ncia), garantindo que o resultado seja correto e consistente.

Por que √© importante?
Em ambientes com v√°rios usu√°rios acessando e modificando dados simultaneamente, pode haver conflitos, como:

Leituras de dados inconsistentes

Atualiza√ß√µes perdidas

Dados corrompidos

Problemas comuns sem controle adequado
Problema	O que √©
Leitura suja	Ler dados que foram modificados, mas n√£o confirmados (rollback depois)
Leitura n√£o repet√≠vel	Ler o mesmo dado duas vezes e obter valores diferentes devido a outra transa√ß√£o ter modificado no meio
Phantom read (Leitura fantasma)	Ler um conjunto de linhas, e na pr√≥xima leitura, novas linhas aparecem porque outra transa√ß√£o inseriu dados

T√©cnicas comuns de controle de concorr√™ncia
Bloqueios (Locks)

O banco ‚Äútrava‚Äù linhas ou tabelas durante a transa√ß√£o para evitar conflitos.

Exemplo: bloqueio exclusivo para escrita, bloqueio compartilhado para leitura.

Controle de Vers√£o (MVCC - Multi-Version Concurrency Control)

O banco mant√©m v√°rias vers√µes dos dados, permitindo que leituras n√£o bloqueiem escritas e vice-versa.

Muito usado em bancos modernos como PostgreSQL e Oracle.

N√≠veis de isolamento (Isolation Levels)
Definem o grau de visibilidade que uma transa√ß√£o tem sobre as mudan√ßas feitas por outras.

Os n√≠veis padr√µes s√£o:

N√≠vel	Caracter√≠sticas principais
Read Uncommitted	Pode ler dados n√£o confirmados (leitura suja poss√≠vel)
Read Committed	S√≥ l√™ dados confirmados (evita leitura suja)
Repeatable Read	Garante que dados lidos n√£o mudem durante a transa√ß√£o (evita leituras n√£o repet√≠veis)
Serializable	Maior isolamento, transa√ß√µes executam como se fossem uma por vez (evita phantoms)

Exemplo pr√°tico: bloqueio em UPDATE
sql
Copiar
Editar
BEGIN;

UPDATE contas SET saldo = saldo - 100 WHERE id = 1;
-- Esta linha pode ser bloqueada para outras transa√ß√µes at√© o COMMIT

COMMIT;
Durante a execu√ß√£o da transa√ß√£o, outras tentativas de modificar a mesma linha podem ser bloqueadas at√© a confirma√ß√£o.

‚ö†Ô∏è Dicas
Use o n√≠vel de isolamento adequado para seu sistema (maior isolamento pode causar mais bloqueios e lentid√£o).

Entenda o comportamento do banco que est√° usando, pois a implementa√ß√£o pode variar.
