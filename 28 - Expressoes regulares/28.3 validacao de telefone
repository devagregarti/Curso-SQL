üì± Valida√ß√£o de N√∫mero de Telefone com Express√µes Regulares
üìå Objetivo:
Garantir que o n√∫mero de telefone siga um padr√£o espec√≠fico, como o modelo brasileiro com c√≥digo do pa√≠s, DDD e n√∫mero.

‚úÖ Formato b√°sico para telefones brasileiros (com DDI e DDD)
Formato esperado: +55 + 2 d√≠gitos de DDD + 9 d√≠gitos do n√∫mero (ex: +5511999999999)

sql
Copy
Edit
SELECT * FROM clientes
WHERE telefone ~ '^\+55\d{2}9\d{8}$';
üîç Explica√ß√£o da regex:
Parte	Significado
^	In√≠cio da string
\+55	Deve come√ßar com "+55" (c√≥digo do Brasil)
\d{2}	Dois d√≠gitos (DDD)
9	O n√∫mero do celular no Brasil geralmente come√ßa com 9
\d{8}	Oito d√≠gitos do n√∫mero
$	Fim da string

üìû Formato com espa√ßos ou h√≠fens (mais flex√≠vel)
Aceita: +55 11 99999-9999 ou +55-11-99999-9999

sql
Copy
Edit
SELECT * FROM clientes
WHERE telefone ~ '^\+55[-\s]?\d{2}[-\s]?9\d{4}[-\s]?\d{4}$';
Esse padr√£o aceita h√≠fens ou espa√ßos entre as partes do n√∫mero.

üßπ Formato s√≥ com DDD (sem DDI)
Exemplo: 11999999999

sql
Copy
Edit
SELECT * FROM clientes
WHERE telefone ~ '^(\d{2})9\d{8}$';
‚ùå Filtrar n√∫meros inv√°lidos (ex: menos de 11 d√≠gitos)
Se quiser garantir que s√≥ aparecem n√∫meros com 11 d√≠gitos exatos, use:

sql
Copy
Edit
SELECT * FROM clientes
WHERE telefone ~ '^\d{11}$';
‚ö†Ô∏è Boas pr√°ticas
Oriente seus alunos a padronizar o formato de telefone desde a entrada dos dados.

Para bancos como PostgreSQL, tamb√©m √© poss√≠vel usar CHECK para validar na cria√ß√£o da tabela:

sql
Copy
Edit
CREATE TABLE contatos (
  telefone TEXT CHECK (telefone ~ '^\+55\d{2}9\d{8}$')
);
