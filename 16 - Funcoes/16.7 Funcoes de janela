üéØ T√≥pico: Fun√ß√µes de Janela (Window Functions) em SQL
1. O que s√£o fun√ß√µes de janela?
Fun√ß√µes que calculam valores agregados, rankings ou totais sem agrupar linhas, permitindo manter todas as linhas da consulta.

Importantes para an√°lises detalhadas, como rankings, m√©dias m√≥veis, somas cumulativas.

2. Principais fun√ß√µes de janela do dia a dia:
Fun√ß√£o	O que faz	Exemplo pr√°tico simples
ROW_NUMBER()	D√° uma numera√ß√£o para cada linha dentro de um grupo	Listar pedidos com numera√ß√£o sequencial por cliente
RANK()	D√° uma classifica√ß√£o, empatando posi√ß√µes iguais	Ranking de vendedores por vendas
SUM() OVER()	Soma acumulada ou total dentro de uma janela definida	Soma total de vendas por m√™s, mantendo detalhes
AVG() OVER()	M√©dia dentro da janela	M√©dia m√≥vel de notas por aluno

3. Exemplo pr√°tico simples ‚Äî Numerar pedidos por cliente:
sql
Copy
Edit
SELECT cliente_id,
       pedido_id,
       data_pedido,
       ROW_NUMBER() OVER (PARTITION BY cliente_id ORDER BY data_pedido) AS num_pedido_cliente
FROM pedidos;
Explica√ß√£o: Cada pedido do cliente recebe um n√∫mero sequencial come√ßando em 1, ordenado pela data do pedido.

4. Exemplo ‚Äî Soma acumulada das vendas por data:
sql
Copy
Edit
SELECT data_venda,
       valor_venda,
       SUM(valor_venda) OVER (ORDER BY data_venda) AS soma_acumulada
FROM vendas;
Explica√ß√£o: Para cada data, mostra o total acumulado das vendas at√© aquele dia.

5. Por que usar fun√ß√µes de janela no dia a dia?
Permitem an√°lises detalhadas e din√¢micas em relat√≥rios sem perder a granularidade dos dados.

√öteis para ranking, percentis, compara√ß√µes entre registros.

Melhoram muito a qualidade das consultas anal√≠ticas.

6. Dicas r√°pidas:
Sempre defina o OVER() com PARTITION BY para dividir grupos (ex: por cliente, por regi√£o).

Use ORDER BY dentro do OVER() para ordenar dentro da janela (ex: por data, por valor).

Combine com filtros para relat√≥rios precisos e completos.

Resumo para v√≠deo:
Explique o conceito de fun√ß√µes de janela vs agrega√ß√µes tradicionais.

Mostre os exemplos b√°sicos de ROW_NUMBER() e SUM() OVER().

D√™ exemplos pr√°ticos f√°ceis, tipo numerar pedidos e calcular soma acumulada.

Finalize ressaltando a import√¢ncia para an√°lise detalhada.