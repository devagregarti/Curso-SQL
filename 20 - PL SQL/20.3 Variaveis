üßÆ O que s√£o vari√°veis no PL/pgSQL?
üß† Conceito simples
Vari√°veis s√£o espa√ßos na mem√≥ria usados para guardar valores tempor√°rios enquanto o c√≥digo est√° rodando.

Podemos dar nomes aos valores, us√°-los, som√°-los, alter√°-los, comparar, etc.

√â como guardar n√∫meros ou palavras em caixinhas com nome.

üìù Exemplo de uso de vari√°vel
sql
Copy
Edit
DECLARE
  nome_cliente TEXT;
BEGIN
  nome_cliente := 'Maria';
  RAISE NOTICE 'Cliente: %', nome_cliente;
END;
DECLARE: parte onde declaramos (criamos) as vari√°veis.

nome_cliente TEXT: criamos uma vari√°vel chamada nome_cliente que guarda texto.

:= 'Maria': atribu√≠mos o valor 'Maria' √† vari√°vel.

RAISE NOTICE: imprime algo na tela (como um aviso).

üì¶ Tipos de vari√°veis mais usados
Tipo	Quando usar	Exemplo de valor
INTEGER	Para n√∫meros inteiros	1, 100, -25
NUMERIC	Para n√∫meros com casas decimais	10.5, 99.99
TEXT	Para textos e palavras	'Jo√£o', 'Produto A'
BOOLEAN	Para verdadeiro ou falso	TRUE, FALSE
DATE	Para datas	'2025-06-19'
TIMESTAMP	Para data e hora completas	'2025-06-19 14:30'

‚úÖ Como declarar vari√°veis corretamente
sql
Copy
Edit
DECLARE
  idade INTEGER;
  nome TEXT;
  valor_total NUMERIC(10,2);
  ativo BOOLEAN := TRUE;
Sempre declare vari√°veis antes do bloco BEGIN.

Pode ou n√£o atribuir um valor inicial.

Use nomes que fa√ßam sentido (ex: idade, valor_total, cliente_nome).

‚ö†Ô∏è Erros comuns (e como evitar)
Erro	Correto
Usar vari√°vel sem declarar	Sempre use DECLARE antes do BEGIN
Nome gen√©rico demais	Prefira preco_unitario em vez de x
Esquecer o tipo	Ex: total precisa de um tipo como NUMERIC
Confundir = com :=	Use := para atribuir valor, n√£o =

üßπ Boas pr√°ticas com vari√°veis
‚úÖ Use nomes claros e descritivos (evite a, b, var1, etc).

‚úÖ Declare apenas o que vai usar.

‚úÖ Use um padr√£o de nomes: ex. tudo min√∫sculo e com _ para separar palavras.

‚ùå Evite reusar vari√°veis para coisas diferentes dentro da mesma fun√ß√£o.

‚úÖ Se poss√≠vel, inicie a vari√°vel com um valor (isso ajuda a evitar erros).

üß† Dica extra: usar %TYPE para herdar tipo de uma tabela
sql
Copy
Edit
DECLARE
  nome_cliente clientes.nome%TYPE;
Isso faz com que a vari√°vel tenha o mesmo tipo da coluna nome da tabela clientes.

Muito √∫til para manter o c√≥digo coerente e √† prova de erros.

üßæ Exemplo completo com vari√°veis
sql
Copy
Edit
CREATE OR REPLACE FUNCTION saudacao(nome TEXT)
RETURNS TEXT AS $$
DECLARE
  mensagem TEXT;
BEGIN
  mensagem := 'Ol√°, ' || nome || '! Bem-vindo!';
  RETURN mensagem;
END;
$$ LANGUAGE plpgsql;
‚úÖ Resumo da aula
Vari√°veis guardam valores tempor√°rios durante a execu√ß√£o de uma fun√ß√£o.

Precisam ser declaradas antes de serem usadas.

Devem ter nomes claros e tipos corretos.

Boas pr√°ticas ajudam a manter o c√≥digo limpo e sem erros.

√â poss√≠vel usar tipos padr√£o (INTEGER, TEXT) ou herdar de uma tabela usando %TYPE.