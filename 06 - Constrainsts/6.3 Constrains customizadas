âœ… Exemplo 1: Constraint com padrÃ£o de texto (como um e-mail simples)
sql
Copy
Edit
CREATE TABLE usuarios (
    id SERIAL PRIMARY KEY,
    email TEXT NOT NULL,
    CONSTRAINT email_valido CHECK (
        email ~* '^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$'
    )
);
ğŸ”¹ Essa constraint impede que e-mails invÃ¡lidos sejam inseridos.
ğŸ”¹ O ~* Ã© o operador de regex que ignora maiÃºsculas/minÃºsculas.

âœ… Exemplo 2: CPF com exatamente 11 dÃ­gitos
sql
Copy
Edit
CREATE TABLE clientes (
    id SERIAL PRIMARY KEY,
    cpf TEXT NOT NULL,
    CONSTRAINT cpf_valido CHECK (
        cpf ~ '^[0-9]{11}$'
    )
);
ğŸ”¹ Garante que o CPF tenha exatamente 11 nÃºmeros, sem pontos ou traÃ§os.

âœ… Exemplo 3: Nome com apenas letras e espaÃ§os (sem nÃºmeros ou sÃ­mbolos)
sql
Copy
Edit
CREATE TABLE pessoas (
    id SERIAL PRIMARY KEY,
    nome TEXT NOT NULL,
    CONSTRAINT nome_valido CHECK (
        nome ~* '^[A-Za-zÃ€-Ã¿\s]+$'
    )
);
ğŸ”¹ Aceita letras com acento e espaÃ§os (ideal para nomes reais).
ğŸ”¹ Rejeita entradas como JoÃ£o123 ou Maria!.

ğŸ› ï¸ Dicas:
A funÃ§Ã£o ~ ou ~* Ã© usada para aplicar expressÃµes regulares.

A constraint pode ser nomeada para facilitar manutenÃ§Ã£o e debug.

Ã‰ importante que os dados venham sem formataÃ§Ã£o desnecessÃ¡ria, ou vocÃª precisarÃ¡ tratÃ¡-los com funÃ§Ãµes como replace() dentro da constraint (nÃ£o muito recomendado por performance).

