âœ… O que Ã© a CHECK Constraint?
A CHECK constraint Ã© usada para definir uma regra personalizada que cada valor da coluna precisa respeitar. Se a condiÃ§Ã£o nÃ£o for satisfeita, o PostgreSQL recusa a inserÃ§Ã£o ou atualizaÃ§Ã£o da linha.

ğŸ§  Para que serve?
Ela garante que os dados sigam critÃ©rios especÃ­ficos, alÃ©m das validaÃ§Ãµes bÃ¡sicas como NOT NULL ou UNIQUE.

ğŸ§ª Exemplos prÃ¡ticos:
1. Idade mÃ­nima
sql
Copy
Edit
CREATE TABLE clientes (
    id SERIAL PRIMARY KEY,
    nome TEXT NOT NULL,
    idade INT CHECK (idade >= 18)
);
ğŸ”¹ Garante que sÃ³ serÃ£o aceitos clientes com 18 anos ou mais.

2. Valor positivo
sql
Copy
Edit
CREATE TABLE produtos (
    id SERIAL PRIMARY KEY,
    nome TEXT,
    preco NUMERIC CHECK (preco > 0)
);
ğŸ”¹ Nenhum produto pode ter preÃ§o zero ou negativo.

3. Valor dentro de uma lista
sql
Copy
Edit
CREATE TABLE pedidos (
    id SERIAL PRIMARY KEY,
    status TEXT CHECK (status IN ('pendente', 'pago', 'cancelado'))
);
ğŸ”¹ SÃ³ aceita os valores especÃ­ficos para o status.

4. RestriÃ§Ãµes combinadas
sql
Copy
Edit
CREATE TABLE alunos (
    id SERIAL PRIMARY KEY,
    nota NUMERIC CHECK (nota >= 0 AND nota <= 10)
);
ğŸ”¹ Valida que a nota esteja dentro da escala 0 a 10.

ğŸ“ Nomeando a constraint (opcional, mas recomendado):
sql
Copy
Edit
idade INT CONSTRAINT idade_minima CHECK (idade >= 18)
ğŸ”¸ Isso ajuda a identificar erros mais facilmente se algo falhar.

ğŸ› ï¸ Boas prÃ¡ticas:
Use CHECK para regras de validaÃ§Ã£o simples.

Para regras mais complexas, considere usar triggers.

Evite duplicar regras de negÃ³cios no banco e na aplicaÃ§Ã£o; centralize a lÃ³gica.

