ğŸ¯ TÃ³pico: Subconsulta Aninhada â€“ consulta dentro de outra consulta, que estÃ¡ dentro de outra
âœ… Objetivo:
Mostrar o uso de subconsultas aninhadas (sub-subconsultas) para resolver perguntas complexas, dividindo o problema em etapas dentro da consulta SQL.

ğŸ§© 1. O que Ã©?
ğŸ“Œ Subconsulta aninhada Ã© quando uma subconsulta contÃ©m outra subconsulta dentro dela, criando mÃºltiplos nÃ­veis de consultas internas.
ğŸ“Œ Cada subconsulta Ã© executada para entregar um resultado para a prÃ³xima.

ğŸ” 2. Exemplo prÃ¡tico:
Queremos encontrar o cliente que fez o pedido com o maior valor total.

Passo 1: descobrir o maior valor de pedido.

Passo 2: descobrir o cliente que fez esse pedido.

sql
Copy
Edit
SELECT nome
FROM clientes
WHERE id = (
  SELECT cliente_id
  FROM pedidos
  WHERE valor = (
    SELECT MAX(valor)
    FROM pedidos
  )
);
ğŸ” 3. Como funciona:
A subconsulta mais interna (SELECT MAX(valor) FROM pedidos) encontra o maior valor de pedido.

A subconsulta do meio busca o cliente_id do pedido com esse maior valor.

A consulta externa busca o nome do cliente com aquele id.

ğŸ“ 4. Dica para slide/roteiro:
â€œSubconsultas aninhadas sÃ£o como caixas dentro de caixas: cada etapa resolve uma parte do problema, atÃ© chegar na resposta final.â€